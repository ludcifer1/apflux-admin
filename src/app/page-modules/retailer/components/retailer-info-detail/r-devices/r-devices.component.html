<div class="r-devices">
	<form class="kt-form kt-form--label-right" [formGroup]="deviceForm">
		<div class="kt-portlet__body position-relative">
			<div formArrayName="devices" *ngFor="let device of devices.controls; let i=index">
				<div [formGroupName]="i">
					<div class="form-group row">
						<div class="col-lg-6">
							<label>Số Thiết Bị:</label>
							<div class="input-group">
								<div class="input-group-prepend"><span class="input-group-text"><i class="la la-info-circle"></i></span></div>
								<input type="text" class="form-control" formControlName="deviceId">
							</div>
						</div>
						<div class="col-lg-6">
							<label class="">Loại Thiết Bị:</label>
							<div class="input-group">
								<div class="input-group-prepend"><span class="input-group-text"><i class="la la-desktop"></i></span></div>
								<input type="text" class="form-control" formControlName="deviceType">
							</div>
						</div>
					</div>
					<div class="form-group row">
						<div class="col-lg-6">
							<label>Tình Trạng:</label>
							<div class="input-group">
								<div class="input-group-prepend"><span class="input-group-text"><i class="la la-info"></i></span></div>
								<input type="text" class="form-control" formControlName="deviceStatus">
							</div>
						</div>
						<div class="col-lg-6">
							<label>Trạng thái kết nối:</label>
							<div class="input-group">
								<div class="input-group-prepend"><span class="input-group-text"><i class="la la-wifi"></i></span></div>
								<input type="text" class="form-control" formControlName="deviceOnlineStatus">
							</div>
						</div>
					</div>
					<div class="form-group row ">
						<div class="col-12 d-flex justify-content-end mt-3">
							<button (click)="removeDevice(removeDeviceTemplate)" type="button" class="btn btn-danger"><i class="la la-sign-out"></i>
								Trả ra</button>
						</div>
					</div>



					<div class="kt-separator kt-separator--border-dashed kt-separator--portlet-fit"></div>
				</div>
			</div>
			<h4>
				Lịch sử
			</h4>
			<table class="table table-striped">
				<thead>
					<tr class="d-flex">
						<th class="col-3">Thời Gian</th>
						<th class="col-6"> Mô Tả </th>
						<th class="col-3">User</th>
					</tr>
				</thead>
				<tbody>
					<tr *ngFor="let item of historyList" class="d-flex">
						<td class="col-3">{{item.dateTime | date: 'dd/MM/yyyy HH:mm'}}</td>
						<td class="col-6">{{item.description}}</td>
						<td class="col-3">{{item.user}}</td>
					</tr>
				</tbody>
			</table>

		</div>
	</form>
</div>

<ng-template class="remove-device-block modal fade" #removeDeviceTemplate>
	<div class="modal-body">
		<div class="form-group row ">
			<div class="col-lg-6">
				<label class="font-weight-bold">Tình Trạng:</label>
				<div class="input-group">
					<select class="form-control">
						<option *ngFor="let status of deviceStatus; let i=index" value="status.id">
							{{status.name}}</option>
					</select>
				</div>
			</div>
		</div>
		<div class="form-group row">
			<div class="col-lg-12">
				<label class="font-weight-bold">Ghi chú:</label>
				<div class="input-group">
					<textarea type="text" class="form-control" rows=3></textarea>
				</div>
			</div>
		</div>
		<div class="form-group row ">
			<div class="col-12 d-flex justify-content-end mt-3">
				<button type="button" (click)="saveRemoveDevice();" class="btn btn-primary"><i class="la la-save"></i>
					Lưu</button>
			</div>
		</div>
	</div>
</ng-template>
